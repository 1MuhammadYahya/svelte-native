{"version":3,"file":"chunk.820ecd84.js","sources":["../../../src/components/GuideContents.svelte","../../../src/components/GuidePage.svelte"],"sourcesContent":["<script>\n\timport { page } from '@sapper/app';\n\timport { onMount, afterUpdate } from 'svelte';\n\timport Icon from './Icon.svelte';\n\n\texport let sections = [];\n\texport let active_section = null;\n\texport let show_contents;\n\texport let prevent_sidebar_scroll = false;\n\tlet page_name = $page.path.split('/').pop()\n\n\tonMount(() => {\n\t\t//\t------------------------------------------\n\t\t//\tTODO – smooth-scroll\n\t\t//\tmust be something that makes more sense\n\t\t//\tthis one is too annoying (area too tall)\n\t\t//\tmaybe svelte-transitions are a solution?\n\t\t//\tunfortunately I have no idea how. For now.\n\t\t//\t------------------------------------------\n\t\t// methods: {\n\t\t// \tscrollTo(e, item) {\n\t\t// \t\te.preventDefault();\n\t\t// \t\tlet top = document.querySelector('#' + item).getBoundingClientRect().top;\n\t\t// \t\twindow.scrollTo({\n\t\t// \t\t\ttop,\n\t\t// \t\t\tbehavior: \"smooth\"\n\t\t// \t\t});\n\t\t// \t}\n\t\t// },\n\n\n\t\tconst onhashchange = _ => {\n\t\t\t// TODO wire this up\n\t\t\t// this.store.set({active_section: window.location.hash.slice(1) });\n\t\t};\n\n\t\twindow.addEventListener('hashchange', onhashchange, false);\n\t\tonhashchange();\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('hashchange', onhashchange, false);\n\t\t};\n\t});\n\n\tlet ul;\n\n\tafterUpdate(() => {\n\t\t// bit of a hack — prevent sidebar scrolling if\n\t\t// TOC is open on mobile, or scroll came from within sidebar\n\t\tif (prevent_sidebar_scroll || show_contents && window.innerWidth < 832) return;\n\n\t\tconst active = ul && ul.querySelector('.active');\n\n\t\tif (active) {\n\t\t\tconst { top, bottom } = active.getBoundingClientRect();\n\n\t\t\tconst min = 200;\n\t\t\tconst max = window.innerHeight - 200;\n\n\t\t\tif (top > max) {\n\t\t\t\tul.parentNode.scrollBy({\n\t\t\t\t\ttop: top - max,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tbehavior: 'smooth'\n\t\t\t\t});\n\t\t\t} else if (bottom < min) {\n\t\t\t\tul.parentNode.scrollBy({\n\t\t\t\t\ttop: bottom - min,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tbehavior: 'smooth'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n</script>\n\n<style>\n\t.guide-toc li {\n\t\tdisplay: block;\n\t\tline-height: 1.2;\n\t\tmargin: 0 0 4.8rem 0;\n\t}\n\n\t.section {\n\t\tdisplay: block;\n\t\tpadding: 0 0 .8rem 0;\n\t\tfont: 400 var(--h6) var(--font);\n\t\ttext-transform: uppercase;\n\t\tletter-spacing: 0.12em;\n\t}\n\n\t.subsection {\n\t\tdisplay: block;\n\t\tfont-size: 1.6rem;\n\t\tfont-family: var(--font);\n\t\tpadding: 0.3em 0;\n\t}\n\n\t.section:hover,\n\t.subsection:hover {\n\t\tcolor: var(--flash)\n\t}\n\n\t.active {\n\t\tcolor: var(--prime)\n\t}\n</style>\n\n<ul bind:this={ul} class=\"guide-toc\" on:mouseenter=\"{() => prevent_sidebar_scroll = true}\"\n\ton:mouseleave=\"{() => prevent_sidebar_scroll = false}\">\n\t{#each sections as section}\n\t\t<li>\n\t\t\t<a class=\"section\" class:active=\"{section.slug === active_section}\" href=\"{page_name}#{section.slug}\">\n\t\t\t\t{section.metadata.title}\n\n\t\t\t\t{#if section.slug === active_section}\n\t\t\t\t\t<Icon name=\"arrow-right\" />\n\t\t\t\t{/if}\n\t\t\t</a>\n\n\t\t\t{#each section.subsections as subsection}\n\t\t\t\t<!-- see <script> below: on:click='scrollTo(event, subsection.slug)' -->\n\t\t\t\t<a class=\"subsection\" class:active=\"{subsection.slug === active_section}\" href=\"{page_name}#{subsection.slug}\">\n\t\t\t\t\t{subsection.title}\n\n\t\t\t\t\t{#if subsection.slug === active_section}\n\t\t\t\t\t\t<Icon name=\"arrow-right\" />\n\t\t\t\t\t{/if}\n\t\t\t\t</a>\n\t\t\t{/each}\n\t\t</li>\n\t{/each}\n</ul>","<script>\n\timport { onMount, afterUpdate } from 'svelte';\n\timport GuideContents from './GuideContents.svelte';\n\timport Icon from './Icon.svelte';\n\n\n\texport let sections;\n\texport let edit_url;\n\tlet active_section;\n\n\tlet container;\n\tlet aside;\n\tlet show_contents = false;\n\n\tonMount(() => {\n\t\tconst anchors = container.querySelectorAll('[id]');\n\t\tlet positions;\n\n\t\tconst onresize = () => {\n\t\t\tconst { top } = container.getBoundingClientRect();\n\t\t\tpositions = [].map.call(anchors, anchor => {\n\t\t\t\treturn anchor.getBoundingClientRect().top - top;\n\t\t\t});\n\t\t}\n\n\t\tlet last_id = window.location.hash.slice(1);\n\n\t\tconst onscroll = () => {\n\t\t\tconst top = -window.scrollY;\n\n\t\t\tlet i = anchors.length;\n\t\t\twhile (i--) {\n\t\t\t\tif (positions[i] + top < 40) {\n\t\t\t\t\tconst anchor = anchors[i];\n\t\t\t\t\tconst { id } = anchor;\n\n\t\t\t\t\tif (id !== last_id) {\n\t\t\t\t\t\tactive_section = id;\n\t\t\t\t\t\tlast_id = id;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener('scroll', onscroll, true);\n\t\twindow.addEventListener('resize', onresize, true);\n\n\t\t// wait for fonts to load...\n\t\tconst timeouts = [\n\t\t\tsetTimeout(onresize, 1000),\n\t\t\tsetTimeout(onresize, 5000)\n\t\t];\n\n\t\tonresize();\n\t\tonscroll();\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('scroll', onscroll, true);\n\t\t\twindow.removeEventListener('resize', onresize, true);\n\n\t\t\ttimeouts.forEach(timeout => clearTimeout(timeout));\n\t\t};\n\t});\n</script>\n\n<style>\n\taside {\n\t\t/* display: none; */\n\t\tposition: fixed;\n\t\tbackground-color: white;\n\t\tleft: 0.8rem;\n\t\tbottom: 0.8rem;\n\t\twidth: 2em;\n\t\theight: 2em;\n\t\toverflow: hidden;\n\t\tborder: 1px solid #eee;\n\t\tbox-shadow: 1px 1px 6px rgba(0, 0, 0, 0.1);\n\t\tborder-radius: var(--border-r);\n\t\tpadding: 1.6rem;\n\t\ttransition: width 0.2s, height 0.2s;\n\t}\n\n\taside button {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\twidth: 3.4rem;\n\t\theight: 3.4rem;\n\t}\n\n\taside.open {\n\t\twidth: calc(100vw - 1.6rem);\n\t\theight: calc(100vh - var(--nav-h) - 7rem);\n\t}\n\n\taside.open::before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tbottom: calc(100vh - var(--nav-h) - 10.8rem);\n\t\twidth: 100%;\n\t\theight: 2em;\n\t\tbackground: linear-gradient(to top, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.7) 50%, rgba(255, 255, 255, 1) 100%);\n\t\tpointer-events: none;\n\t\tz-index: 2;\n\t}\n\n\taside::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tbottom: 1.9em;\n\t\twidth: 100%;\n\t\theight: 2em;\n\t\tbackground: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.7) 50%, rgba(255, 255, 255, 1) 100%);\n\t\tpointer-events: none;\n\t}\n\n\t.sidebar {\n\t\tposition: absolute;\n\t\tfont-family: var(--font);\n\t\toverflow-y: auto;\n\t\twidth: calc(100vw - 4.8rem);\n\t\theight: calc(100vh - var(--nav-h) - 10.8rem);\n\t\tpadding: 2em 0;\n\t\tbottom: 2em;\n\t}\n\n\t.content {\n\t\twidth: 100%;\n\t\tmax-width: calc(var(--main-width) + var(--side-nav));\n\t\tmargin: 0 auto;\n\t\t-moz-tab-size: 2;\n\t\tpadding: var(--top-offset) 0;\n\t\ttab-size: 2;\n\t}\n\n\t@media (min-width: 832px) {\n\n\t\t/* can't use vars in @media :( */\n\t\taside {\n\t\t\tdisplay: block;\n\t\t\twidth: var(--sidebar-w);\n\t\t\theight: calc(100vh - var(--nav-h));\n\t\t\ttop: var(--nav-h);\n\t\t\tleft: var(--side-nav);\n\t\t\toverflow: hidden;\n\t\t\tbox-shadow: none;\n\t\t\tborder: none;\n\t\t\toverflow: hidden;\n\t\t\tpadding: 0;\n\t\t}\n\n\t\taside.open::before {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\taside::after {\n\t\t\tcontent: '';\n\t\t\tbottom: 0;\n\t\t\theight: var(--top-offset);\n\t\t}\n\n\t\taside button {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.sidebar {\n\t\t\tpadding: var(--top-offset) 3.2rem var(--top-offset) 0;\n\t\t\tfont-family: var(--font);\n\t\t\toverflow-y: auto;\n\t\t\theight: 100%;\n\t\t\tbottom: auto;\n\t\t\twidth: calc(var(--sidebar-w) + 5rem);\n\t\t}\n\n\t\t.content {\n\t\t\tmax-width: none;\n\t\t\tpadding-left: 28rem;\n\t\t}\n\t}\n\n\t@media (min-width: 1200px) {\n\n\t\t/* can't use vars in @media :( */\n\t\taside {\n\t\t\tdisplay: block;\n\t\t\tleft: calc(50vw - (60rem - var(--side-nav)));\n\t\t}\n\n\t\t.content {\n\t\t\twidth: 80rem;\n\t\t\tpadding-left: calc(50vw - 32rem);\n\t\t\tbox-sizing: content-box;\n\t\t\t/* padding-right: calc(50% - 50rem); */\n\t\t}\n\t}\n\n\t.content h2 {\n\t\tmargin-top: 16rem;\n\t\tpadding: 2rem 1.6rem 5.6rem 0.2rem;\n\t\tborder-top: 2px solid var(--second);\n\t\tcolor: var(--second);\n\t\tline-height: 1;\n\t}\n\n\t.content section:first-of-type>h2 {\n\t\tmargin-top: 0;\n\t}\n\n\t.content :global(.offset-anchor) {\n\t\tposition: relative;\n\t\tdisplay: block;\n\t\ttop: calc(-1 * (var(--nav-h) + var(--top-offset) - 1rem));\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\n\t.content :global(.anchor) {\n\t\tposition: absolute;\n\t\tdisplay: block;\n\t\tbackground: url(/icons/link.svg) 0 50% no-repeat;\n\t\tbackground-size: 1em 1em;\n\t\twidth: 1.4em;\n\t\theight: 1em;\n\t\tleft: -1.3em;\n\t\topacity: 0;\n\t\ttransition: opacity 0.2s;\n\t\tborder: none !important;\n\t\t/* TODO get rid of linkify */\n\t}\n\n\t@media (min-width: 768px) {\n\n\t\t.content :global(h2):hover :global(.anchor),\n\t\t.content :global(h3):hover :global(.anchor) {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t.content :global(h3),\n\t.content :global(h3 > code) {\n\t\tfont-weight: 700;\n\t\tfont-size: var(--h3);\n\t\tcolor: var(--second);\n\t\tmargin: 6.4rem 0 1.6rem 0;\n\t\tbackground: transparent;\n\t\tline-height: 1;\n\t}\n\n\t.content :global(code) {\n\t\tpadding: .3rem .8rem .3rem;\n\t\tmargin: 0 0.2rem;\n\t\ttop: -.1rem;\n\t\tbackground: #f4f4f4;\n\t}\n\n\t.content :global(pre) :global(code) {\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\ttop: 0;\n\t\tbackground: transparent;\n\t}\n\n\t.content :global(.icon) {\n\t\twidth: 20px;\n\t\theight: 20px;\n\t\tstroke: currentColor;\n\t\tstroke-width: 2;\n\t\tstroke-linecap: round;\n\t\tstroke-linejoin: round;\n\t\tfill: none;\n\t}\n\n\t/* max line-length ~60 chars */\n\tsection> :global(p) {\n\t\tmax-width: var(--linemax)\n\t}\n\n\tsmall {\n\t\tfont-size: var(--h5);\n\t\tfloat: right;\n\t\tpointer-events: all;\n\t\tcolor: var(--prime);\n\t\tcursor: pointer;\n\t}\n\n\t/* no linkify on these */\n\tsmall a {\n\t\tall: unset\n\t}\n\n\tsmall a:before {\n\t\tall: unset\n\t}\n\n\n\tsection :global(blockquote) {\n\t\tcolor: hsl(204, 100%, 50%);\n\t\tborder: 2px solid var(--flash);\n\t\tpadding-left: 8.8rem;\n\t}\n\n\tsection :global(blockquote) :global(code) {\n\t\tbackground: hsl(204, 100%, 95%) !important;\n\t\tcolor: hsl(204, 100%, 50%);\n\t}\n\n\tsection :global(blockquote::before) {\n\t\tcontent: ' ';\n\t\tposition: absolute;\n\t\ttop: calc(50% - 1.5rem);\n\t\tleft: 3.2rem;\n\t\twidth: 3rem;\n\t\theight: 3rem;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-image: url('/icons/tip.svg');\n\t}\n</style>\n\n<svelte:head>\n\t<title>Learn Svelte Native</title>\n</svelte:head>\n\n<div bind:this={container} class='content linkify listify'>\n\t{#each sections as section}\n\t<section data-id={section.slug}>\n\t\t<h2>\n\t\t\t<span class=\"offset-anchor\" id={section.slug}></span>\n\t\t\t<a href=\"#{section.slug}\" class=\"anchor\" aria-hidden></a>\n\n\t\t\t{section.metadata.title}\n\t\t\t<small>\n\t\t\t\t<a href='{edit_url}/{section.file}' title='edit this section'>\n\t\t\t\t\t<Icon name='edit' /></a>\n\t\t\t</small>\n\t\t</h2>\n\t\t{@html section.html}\n\t</section>\n\t{/each}\n</div>\n\n<aside bind:this={aside} class=\"sidebar-container\" class:open={show_contents}>\n\t<div class=\"sidebar\" on:click=\"{() => show_contents = false}\"> <!-- scroll container -->\n\t\t<GuideContents {sections} {active_section} {show_contents} />\n\t</div>\n\n\t<button on:click=\"{() => show_contents = !show_contents}\">\n\t\t<Icon name=\"{show_contents? 'close' : 'menu'}\"/>\n\t</button>\n</aside>"],"names":["subsection","title","slug","active_section","page_name","section","metadata","subsections","length","sections","ctx","ul","show_contents","prevent_sidebar_scroll","$page","path","split","pop","onMount","onhashchange","_","window","addEventListener","removeEventListener","afterUpdate","innerWidth","active","querySelector","top","bottom","getBoundingClientRect","min","max","innerHeight","parentNode","scrollBy","left","behavior","html","edit_url","file","container","aside","anchors","querySelectorAll","positions","onresize","map","call","anchor","last_id","location","hash","slice","onscroll","scrollY","i","id","timeouts","setTimeout","forEach","timeout","clearTimeout"],"mappings":"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"}